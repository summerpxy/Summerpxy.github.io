---
layout: post
title: "https原理"
date:   2020-06-15 08:15:00
categories: https
---

<div align=center>![https](/assets/image/https.jpg)

 

https的安全传输需要依赖三个主体：

- 浏览器
- 服务器
- CA机构

1. 网站将自己的公钥交给CA机构用于制作证书。
2. CA机构使用自己的私钥加密网站提供的公钥，并且使用一些辅助信息制作安全证书。
3. 网站将CA机构制作的证书配置到网站上，方便其他的访问客户端可以访问到。
4. 浏览器第一次访问该网站的时候获取到网站配置的证书。
5. 浏览器获取CA机构的公钥，使用CA机构的公钥解密网站的公钥。
6. 浏览器生成随机的密钥，使用解密获取到网站公钥进行加密。
7. 网站获取到浏览器发送的过来的密钥，使用自己的私钥进行解密，这样网站和浏览器就都有了一个相同的密钥，这样就可以使用对称加密来进行安全传输。
